---
layout: docwithnav-trendz
assignees:
- vparomskiy
title: 异常检测模型属性
description: 异常检测模型属性
---

* TOC
{:toc}

## 聚类算法
此属性定义将使用什么聚类 ML 算法进行异常检测。当前支持的算法有：

* `K-Means` - 异常检测算法，根据相似性将数据划分为集群，将与分配的集群质心显着不同的数据点识别为异常。
* `DBSCAN` - 异常检测算法，根据密度和连通性对数据点进行分组，将不属于任何集群或孤立在低密度区域的点识别为异常。
* `Custom` - 异常检测算法，将数据分布建模为高斯分布的混合。它将高斯混合模型下概率较低的数据点识别为异常，表明数据中存在异常模式或行为。

## 区段时间范围
在异常检测的 data preparation 步骤中，Trendz 加载遥测数据并将其拆分为多个区段。模型经过训练，可以判断当前区段是否异常，并为区段分配异常分数。
这意味着如果我们想在短时间范围内发现异常，例如设备每 10 秒发送一次数据，并且异常可能在 1 分钟时间范围内发生并消失。在设备每小时报告一次数据的情况下 - 这意味着我们分析的最小时间范围应为至少 3 小时。

此属性定义每个区段的时间间隔持续时间。

## 比较类型
此属性影响特征提取过程，并确定如何根据传入数据中的字段计算特征。当前支持的比较类型有：

* `基于行为` - 捕获时序数据表现出的整体模式、动态和趋势。它们提供了随着时间推移的数据整体行为的见解，允许识别重复的模式、异常或偏差。这些特征将数据作为一个整体进行分析，并专注于捕获时序数据中存在的潜在行为或模式。
* `基于特征` - 关注从原始时序数据派生的特定测量或属性。这些特征从数据中提取相关信息或特征，例如统计属性（例如，平均值、标准差）或特定于域的测量。基于特征的特征通过考虑时序数据的各个方面或属性来提供更详细和具体的分析。

## 距离函数
您可以配置计算特征空间中两点之间距离的方式。当前支持的距离函数有：

* `欧几里得` - 欧几里得距离是最常用的距离度量。它是欧几里得空间中两点之间的直线距离。它是表示两点之间距离的最明显方式。
* `动态时间规整` - 测量时序数据之间的相似性，适应其时间对齐的变化。DTW 考虑相应点的灵活匹配，适应速度或时间偏移的差异。它能够有效地对具有不同模式或长度的时序数据进行聚类，捕获传统距离度量可能忽略的相似性。
* `曼哈顿` - 测量时序数据中相应点之间的总绝对差异，适用于捕获聚类中的时间变化。
* `切比雪夫` - 关注时序数据中相应点之间的最大绝对差异，有效地捕获聚类中的最大时间变化。
* `堪培拉` - 函数测量时序数据中相应点之间的加权绝对差异，同时考虑大小和相对变化，有利于对具有不同尺度或比例的时序数据进行聚类。

## 时间窗口类型
此属性定义在为聚类准备原始遥测数据时如何计算区段的时间窗口。当前支持的时间窗口类型有：

* `固定范围` - 区段的时间窗口是固定的，不重叠。
* `滑动窗口` - 区段的时间窗口是滑动的，并且重叠。

在 `滑动窗口` 的情况下，用户可以定义 `滑动步长百分比` 属性来定义滑动窗口应移动的百分比。

## 其他属性

* `集群计数` - 将用于异常检测的集群数量。
* `最大迭代次数` - 用于构建异常检测模型的最大迭代次数。
* `分数阈值百分比` - 初始因子，告诉我们在训练数据集中期望有多少异常区段。
* `聚合` - 定义在特征提取之前用于聚合区段内数据点的函数。
* `最小点数间隔` - 区段内的数据点最小数量。如果区段包含较少的数据点 - 它将被跳过。
* `区段点数` - 在区段内聚合的点数。
* `最小间隔持续时间` - 将区段包含到异常检测模型训练过程中的最小时间间隔。
* `最大时间间隔` - 如果区段包含持续时间大于此属性的数据间隔 - 区段将被跳过。
* `最大点数` - 在训练过程中分析的最大区段点数。
* `最小异常持续时间` - 如果发现异常的持续时间小于此属性 - 异常将被丢弃。
* `最大区段计数` - 为训练数据集提取的最大区段数量。
* `加入集群` - 定义当两个彼此靠近的区段都具有异常时，但它们属于不同集群时的系统行为。

## 后续步骤

{% assign currentGuide = "InstallationOptions" %}{% include templates/trndz-guides-banner.md %}